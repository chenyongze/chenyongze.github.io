<!DOCTYPE html>
<html lang=zh-CN>
  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="description" content="">
  <meta name="keywords" content="">
  
    <link rel="icon" href="/favicon.ico">
  
    
  <title>ä»WordPressåˆ°é™æ€ç½‘ç«™ | Yongze.Chen Blogs</title>
  <link rel="stylesheet" href="/style.css">
  <link rel="stylesheet" href="/lib/jquery.fancybox.min.css">
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<body>
  <header>
  <div class="header-container">
    <a class='logo' href="/">
      <span>Yongze.Chen Blogs</span>
    </a>
    <ul class="right-header">
      
        <li class="nav-item">
          
            <a href="/" class="item-link">é¦–é¡µ</a>
          
        </li>
      
        <li class="nav-item">
          
            <a href="/about" class="item-link">å…³äº</a>
          
        </li>
      
        <li class="nav-item">
          
            <a href="/archives" class="item-link">å½’æ¡£</a>
          
        </li>
      
        <li class="nav-item">
          
            <a href="/tags" class="item-link">æ ‡ç­¾</a>
          
        </li>
      
    </ul>
  </div>
</header>

  <main id='post'>
  <div class="content">
    <article>
        <section class="content markdown-body">
          <h1>ä»WordPressåˆ°é™æ€ç½‘ç«™</h1>
          <div class='post-meta'>
            <i class="fa fa-calendar" aria-hidden="true"></i> <time>2017å¹´08æœˆ01æ—¥</time>
            
              | <i class="fa fa-folder-open-o" aria-hidden="true"></i> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/coding4fun/">coding4fun</a>
  </div>



            
            
              | 
                  <i class="fa fa-tags" aria-hidden="true"></i>
                
               
  <a href="/tags/#jekyll" class='tag'>jekyll</a>

  <a href="/tags/#github" class='tag'>github</a>

  <a href="/tags/#bootstrap" class='tag'>bootstrap</a>


            
          </div>
          <p>ä½œä¸ºä¸€ä¸ªæç®€ä¸»ä¹‰è€…ï¼Œè¶Šæ¥è¶Šå—ä¸äº†WordPressçš„è‡ƒè‚¿ã€‚ä¸»è¦è‡ªå·±å¹³æ—¶éƒ½æ˜¯ç”¨Markdownæ¥åšè®°å½•ï¼Œè€ŒWordPressæ”¯æŒçš„ä¸æ˜¯å¾ˆå¥½ï¼Œå¦å¤–æœ‰æ—¶å†™çš„mdé•¿æ–‡é€šè¿‡ä¸‰æ–¹è½¯ä»¶å¯¼å‡ºçš„htmlä¹Ÿä¸é€ æ”¾åœ¨wpçš„ä»€ä¹ˆåœ°æ–¹æ‰åˆé€‚ï¼Œç®¡ç†èµ·æ¥è¿˜ä¸å¦‚å‡ ä¸ªé™æ€é¡µé¢æ¥å¾—æ–¹ä¾¿ã€‚äºæ˜¯æœ‰äº†æŸå¤©æ¥ä¸ªå¤§æ•´é¡¿çš„æƒ³æ³•ã€‚</p>
<p>å¯¹å‰ç«¯åªåœç•™åœ¨cssçš„æˆ‘ï¼ŒèŠ±äº†æ•´ä¸‰å¤©æ—¶é—´ï¼Œä»Hexoåˆ°Jekyllå†åˆ°Bootstrapï¼Œä»¥åŠå„ç§markdown2htmlè§£æå™¨â€¦æœ€ååŸºæœ¬ç®—æ˜¯ä»å¤´å†™äº†ä¸€ä¸ªåŸºäºJekyllçš„website theme ğŸ˜“  åœ¨æ­¤è®°å½•äº†å„ç§å‰ç«¯å‘ï¼Œè‡ªè®¤ä¸ºè¿˜ç®—è¯¦ç»†å§ã€‚<a id="more"></a></p>
<h2 id="Hexo"><a href="#Hexo" class="headerlink" title="Hexo"></a>Hexo</h2><p>ä¸»æµçš„é™æ€é¡µé¢ç”Ÿæˆå™¨æœ‰ä¿©ï¼Œä¸€ä¸ªJekyllï¼Œä¸€ä¸ªHexoï¼Œéƒ½æ”¯æŒMarkdownã€‚ å‰è€…ç”¨çš„æ˜¯Rubyï¼Œåè€…ä¸ºNode.jsã€‚</p>
<p>Hexoä¼šæ¯”Jekyllæ­å»ºèµ·æ¥æ›´æ–¹ä¾¿ä¸€äº›ï¼Œè€Œä¸”å„ç§é…ç½®é¡¹çš„è®¾è®¡ä¹Ÿå¾ˆä¾¿æ·ï¼Œç½‘ç«™themesè¿˜å¾ˆä¸°å¯Œï¼Œæ‰€ä»¥æˆ‘ä¸€å¼€å§‹å¼„çš„å°±æ˜¯è¿™ä¸ªã€‚</p>
<ul>
<li><a href="https://hexo.io/zh-cn/docs/" target="_blank" rel="noopener">Hexoå®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="https://github.com/iissnan/hexo-theme-next" target="_blank" rel="noopener">next</a> : ä¸€æ¬¾ä¼˜é›…å¹¶ä¸”åŠŸèƒ½å¼ºå¤§çš„ä¸»é¢˜. <a href="http://theme-next.iissnan.com/getting-started.html" target="_blank" rel="noopener">[doc]</a> <a href="[http://notes.iissnan.com](http://notes.iissnan.com/">[demo]</a>)</li>
</ul>
<p>æ­å»ºæ–¹æ³•ä¸Šé¢è¿™ä¸¤ä¸ªé“¾æ¥å†™çš„å¾ˆè¯¦ç»†ã€‚</p>
<p>è¿™é‡Œä¸»è¦è®°å½•ä¸€ä¸‹è®©Hexoæ”¯æŒLaTexçš„æ³¨æ„åœ°æ–¹ã€‚Hexoç”¨MathJaxæ—¶ä¼šæœ‰ä¸€äº›<a href="http://2wildkids.com/2016/10/06/%E5%A6%82%E4%BD%95%E5%A4%84%E7%90%86Hexo%E5%92%8CMathJax%E7%9A%84%E5%85%BC%E5%AE%B9%E9%97%AE%E9%A2%98/#" target="_blank" rel="noopener">è½¬ä¹‰é—®é¢˜</a>ï¼Œç»æˆ‘è‡ªå·±æµ‹è¯•ï¼Œæœ€å¥½çš„æ–¹å¼æ˜¯ç”¨<code>hexo-renderer-pandoc</code>æ¸²æŸ“å™¨ä»£æ›¿åŸæœ‰çš„<code>hexo-renderer-marked</code>ã€‚è€Œç½‘ä¸Šè¯´çš„ç”¨<code>hexo-renderer-kramed</code>ï¼Œå¯¹çŸ©é˜µçš„æƒ…å†µæ˜¾ç¤ºçš„ä¸å¥½ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ npm uninstall hexo-renderer-marked --save</span><br><span class="line">$ npm install hexo-renderer-kramed --save</span><br></pre></td></tr></table></figure>
<h2 id="Jekyll"><a href="#Jekyll" class="headerlink" title="Jekyll"></a>Jekyll</h2><p>å…¶å®ç”¨Hexo/Jekyll+ç°æˆçš„ä¸»é¢˜ï¼Œå¾ˆæ–¹ä¾¿å°±èƒ½æ­å‡ºä¸€ä¸ªé™æ€ç½‘ç«™å‡ºæ¥ã€‚åªæ˜¯é™¤äº†ä»£ç é«˜äº®ã€LaTexè¿™äº›åŠŸèƒ½ä¹‹å¤–ï¼Œæˆ‘è¿˜æƒ³èƒ½åŒºåˆ†å‡ºcode block å’Œæ™®é€šæ— éœ€highlightingçš„<code>&lt;pre&gt;</code>éƒ¨åˆ†ï¼Œè¿˜æœ‰å…¶ä»–ä¸€äº›æ”¹åŠ¨ã€‚å› ä¸ºmarkdownè§£æçš„åŸå› ï¼ŒåŸºæœ¬æ‰€æœ‰themeså‡ºçš„æ•ˆæœéƒ½æ˜¯å°†ä¸¤è€…ç»Ÿä¸€å¤„ç†äº†ã€‚å¼ºè¿«ç—‡ï¼ˆå…¶å®å°±æ˜¯zuoï¼‰ï¼Œä¸»é¢˜æŒ‘æ¥æŒ‘å»éƒ½æ²¡æ‰¾åˆ°ä¸ªåˆå¿ƒæ„çš„ï¼Œæ¯”å¦‚nextè¿™ç§ï¼Œå¤ªå¤æ‚ï¼Œè®©æˆ‘ä¸€ä¸ªå‰ç«¯ç™½ç—´æ”¹ï¼Œå“ˆï¼Œé‚£è¿˜æ˜¯è‡ªå·±ä»å¤´å†™ä¸€ä¸ªæ¯”è¾ƒç¬¦åˆç¨‹åºå‘˜é€ è½®å­çš„ä¹ æƒ¯å§ã€‚ã€‚ã€‚ï¼ˆæ‚è„¸</p>
<p>ï¼ˆè‡³äºä¸ºå•¥ä»Hexoè½¬åˆ°äº†Jekyllï¼ŒåŸå› æœªæ˜ï¼‰</p>
<h2 id="Get-Started"><a href="#Get-Started" class="headerlink" title="Get Started"></a>Get Started</h2><p>å‚è€ƒï¼š<a href="https://jekyllrb.com/docs/home/" target="_blank" rel="noopener">Jekyll Doc</a> (<a href="http://jekyll.com.cn/docs/home/" target="_blank" rel="noopener">ä¸­æ–‡ç‰ˆ</a>ï¼Œå†…å®¹æ¯”è¾ƒæ—§)</p>
<h3 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h3><p>æœ¬æ¥åœ¨æœ¬åœ°ç”¨Homebrewå®‰è£…ä¸€è·¯é¡ºç•…ï¼Œä½†æ”¾åˆ°æœåŠ¡å™¨å°±å„ç§é—®é¢˜ã€‚</p>
<p>é¦–å…ˆç›´æ¥ç”¨apt-getä¸‹è½½çš„Rubyç‰ˆæœ¬æ¯”è¾ƒæ—§ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># Install Ruby &amp; RubyGems</span><br><span class="line">$ sudo apt-add-repository ppa:brightbox/ruby-ng</span><br><span class="line">$ sudo apt-get update</span><br><span class="line">$ sudo apt-get install ruby2.4</span><br><span class="line"></span><br><span class="line"># Install Jekyll and Bundler gems</span><br><span class="line">$ sudo gem install jekyll bundler</span><br></pre></td></tr></table></figure>
<p>ç„¶ååœ¨<code>gem install jekyll</code>æ—¶ä¼šæŠ¥é”™ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">error: could not find a valid gem (&gt;= 0) in any repository</span><br></pre></td></tr></table></figure>
<p>å‚è€ƒ<a href="https://github.com/jekyll/jekyll/issues/1409" target="_blank" rel="noopener">github issues</a>ï¼ŒF*k GWFï¼Œéœ€è¦å°†<code>https://rubygems.org/</code>æ¢æˆå…¶ä»–å¯è®¿é—®çš„é•œåƒï¼Œå¦‚<a href="http://gems.ruby-china.org/" target="_blank" rel="noopener">Ruby China é•œåƒ</a>ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ gem sources --remove https://rubygems.org/</span><br><span class="line">$ gem sources -a https://gems.ruby-china.org/</span><br><span class="line">$ gem sources -l</span><br><span class="line">*** CURRENT SOURCES ***</span><br><span class="line">https://gems.ruby-china.org/   </span><br><span class="line"># ç¡®ä¿åªæœ‰ gems.ruby-china.org</span><br></pre></td></tr></table></figure>
<p>é‡æ–°å°è¯• install jekyllï¼Œè¿˜æ˜¯æŠ¥é”™ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">current directory: /var/lib/gems/2.4.0/gems/ffi-1.9.18/ext/ffi_c</span><br><span class="line">/usr/bin/ruby2.4 -r ./siteconf20170801-1836-1n75umz.rb extconf.rb</span><br><span class="line">mkmf.rb can&apos;t find header files for ruby at /usr/lib/ruby/include/ruby.h</span><br></pre></td></tr></table></figure>
<p>è§£å†³æ–¹å¼ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo apt-get install ruby2.4-dev</span><br></pre></td></tr></table></figure>
<p>ä¹‹åå°±å¯ä»¥æ­£å¸¸å®‰è£…jekylläº†ã€‚</p>
<p>å¦å¤–ï¼Œæ ¹æ®<a href="http://gems.ruby-china.org/" target="_blank" rel="noopener">Ruby China é•œåƒ</a>ï¼Œä½ å¯ä»¥ç”¨ Bundler çš„ <a href="http://bundler.io/v1.5/bundle_config.html#gem-source-mirrors" target="_blank" rel="noopener">Gem æºä»£ç é•œåƒå‘½ä»¤</a>ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ bundle config mirror.https://rubygems.org https://gems.ruby-china.org</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·å°±ä¸ç”¨æ”¹ä½ çš„ Gemfile ä¸­çš„ sourceäº†ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">source &quot;https://rubygems.org&quot;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h3 id="Basic-Command"><a href="#Basic-Command" class="headerlink" title="Basic Command"></a>Basic Command</h3><p>ç”¨jekyllæ–°å»ºä¸€ä¸ªsite:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ jekyll new myblog</span><br><span class="line">$ cd myblog</span><br><span class="line">$ bundle exec jekyll serve</span><br></pre></td></tr></table></figure>
<p>æ‰“å¼€<a href="http://localhost:4000æµ‹è¯•ã€‚" target="_blank" rel="noopener">http://localhost:4000æµ‹è¯•ã€‚</a></p>
<p>é»˜è®¤ä½¿ç”¨çš„æ˜¯<code>Minima theme</code>. ç›®å‰åŸºäºjekyll 3.xçš„themesè¿˜æ¯”è¾ƒå°‘ã€‚<br>å› ä¸ºæˆ‘æ˜¯è‡ªå·±æ–°å»ºçš„themeï¼Œå°±ä¸ç”¨è¿™æ ·æ–¹å¼äº†ã€‚</p>
<hr>
<p>å¯åŠ¨æœåŠ¡ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># å¯åŠ¨æœåŠ¡</span><br><span class="line">$ jekyll serve</span><br><span class="line"></span><br><span class="line"># å¯åŠ¨æœåŠ¡(gem-based theme)</span><br><span class="line">$ bundle exec jekyll serve</span><br><span class="line"></span><br><span class="line"># è„±ç¦»ç»ˆç«¯åœ¨åå°è¿è¡Œ</span><br><span class="line"># å¦‚æœä½ æƒ³å…³é—­æœåŠ¡å™¨ï¼Œå¯ä»¥ä½¿ç”¨`kill -9 1234`å‘½ä»¤ï¼Œ&quot;1234&quot; æ˜¯è¿›ç¨‹å·ï¼ˆPIDï¼‰ã€‚</span><br><span class="line"># å¦‚æœä½ æ‰¾ä¸åˆ°è¿›ç¨‹å·ï¼Œé‚£ä¹ˆå°±ç”¨`ps aux | grep jekyll`å‘½ä»¤æ¥æŸ¥çœ‹ï¼Œç„¶åå…³é—­æœåŠ¡å™¨ã€‚</span><br><span class="line">$ jekyll serve --detach</span><br><span class="line"></span><br><span class="line"># å’Œjekyll serveç›¸åŒï¼Œä½†æ˜¯ä¼šæŸ¥çœ‹å˜æ›´å¹¶ä¸”è‡ªåŠ¨å†ç”Ÿæˆã€‚</span><br><span class="line">$ jekyll serve --watch</span><br></pre></td></tr></table></figure>
<p>ç”Ÿæˆé™æ€é¡µé¢ï¼ˆä½äº<code>_site</code>ç›®å½•ï¼‰ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ jekyll build</span><br></pre></td></tr></table></figure>
<p>æˆ–è€…ç”¨ï¼š(watched for changes, and regenerated automatically.)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ jekyll build --watch</span><br></pre></td></tr></table></figure>
<h1 id="Set-up-Your-Site-on-VPS"><a href="#Set-up-Your-Site-on-VPS" class="headerlink" title="Set up Your Site on VPS"></a>Set up Your Site on VPS</h1><p>ç½‘ä¸Šæ¸…ä¸€è‰²éƒ½æ˜¯é€šè¿‡github pagesæ¥å‘å¸ƒçš„ç«™ç‚¹ï¼Œç„¶åé€šè¿‡ä¿®æ”¹<code>CNAME</code>æ–‡ä»¶æ¥è¾¾åˆ°ç»‘å®šåŸŸåçš„ç›®çš„ã€‚</p>
<p>æˆ‘è¿™é‡Œæ˜¯æ”¾åˆ°VPSä¸Šï¼Œéœ€è¦è‡ªå·±æ­å»ºweb serverç¯å¢ƒã€‚</p>
<blockquote>
<p>Jekyll is a static site generator, not a webserver. You may generate the static files and serve with webserver like <code>nginx</code>, which provides such abilities.</p>
</blockquote>
<p>å‚è€ƒï¼š</p>
<ul>
<li><a href="https://www.digitalocean.com/community/tutorials/how-to-get-started-with-jekyll-on-an-ubuntu-vps" target="_blank" rel="noopener">How To Get Started with Jekyll on an Ubuntu VPS</a></li>
<li><a href="https://thomasroest.com/2016/11/05/set-up-a-jekyll-site-on-a-vps-with-ubuntu-nginx-and-letsencrypt.html" target="_blank" rel="noopener">Set up a Jekyll site on a vps with Ubuntu, Nginx and Letsencrypt</a></li>
</ul>
<p>å› ä¸ºæ˜¯é™æ€ç½‘ç«™ï¼Œæ‰€ä»¥Jekyllå…¶å®å®‰è£…åœ¨æœ¬åœ°å°±å¯ä»¥ï¼Œé™æ€é¡µé¢ä¹Ÿæ”¾åœ¨æœ¬åœ°ã€‚ç„¶åå°†Jekyllç”Ÿæˆçš„é™æ€HTMLæ–‡ä»¶ï¼ˆ<code>_site</code>ç›®å½•ä¸‹ï¼‰é€šè¿‡ç±»ä¼¼FTPçš„æ–¹å¼ä¸Šä¼ åˆ°VPSå°±è¡Œã€‚</p>
<p>å°†æœ¬åœ°æ•°æ®ä¸Šä¼ åˆ°è¿œç¨‹æœåŠ¡ç”¨<code>scp</code>å°±è¡Œï¼Œåæ¥äº†è§£åˆ°<code>rsync</code>è¿™ä¸ªå‘½ä»¤ã€‚<code>rsync</code>åªä¼ é€ä¸¤ä¸ªæ–‡ä»¶çš„ä¸åŒéƒ¨åˆ†ï¼Œè€Œä¸æ˜¯æ¯æ¬¡éƒ½æ•´ä»½ä¼ é€ï¼Œå› æ­¤é€Ÿåº¦å¾ˆå¿«ã€‚</p>
<p>å…ˆæ¥ç†æ¸…å…³ç³»ï¼š</p>
<ul>
<li><a href="http://jekyllrb.com/" target="_blank" rel="noopener">Jekyll</a> for write our content</li>
<li><a href="http://nginx.org/en/" target="_blank" rel="noopener">nginx</a> to serve our content</li>
<li><a href="http://www.capistranorb.com/" target="_blank" rel="noopener">Capistrano</a> to deploy</li>
</ul>
<h2 id="Nginx"><a href="#Nginx" class="headerlink" title="Nginx"></a>Nginx</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo apt-get install nginx</span><br><span class="line">sudo service nginx start</span><br></pre></td></tr></table></figure>
<p>ç„¶åè¾“å…¥vpsåœ°å€å°±èƒ½çœ‹åˆ°nginxçš„æ¬¢è¿é¡µé¢ã€‚</p>
<p>æŸ¥çœ‹è¿è¡ŒçŠ¶æ€ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo service nginx status</span><br><span class="line"># æ˜¾ç¤ºï¼š</span><br><span class="line">- nginx is running</span><br></pre></td></tr></table></figure>
<p>ä¿®æ”¹ nginx é…ç½®ï¼šsudo vim /etc/nginx/sites-enabled/default</p>
<p>å°† <code>root /usr/share/nginx/html;</code> æ³¨é‡Šæ‰ï¼Œæ”¹ä¸º <code>root /home/deploy/your_blog_name/_site</code>ã€‚</p>
<p>å°† <code>server_name localhost;</code> æ³¨é‡Šæ‰ï¼Œæ”¹ä¸º <code>server_name your_domain.com;</code>ã€‚</p>
<p>é‡æ–°å¯åŠ¨nginxï¼Œå°±èƒ½çœ‹åˆ°å»ºçš„blogå†…å®¹äº†ã€‚</p>
<h2 id="Capistrano"><a href="#Capistrano" class="headerlink" title="Capistrano"></a>Capistrano</h2><p>Capistrano æ˜¯ä¸€ä¸ª Ruby ç¨‹åºï¼Œå‚è€ƒç¬¬ä¸€ä¸ªæ–‡ç« é“¾æ¥ï¼Œå®ƒå¯ä»¥é€šè¿‡Gitå¤åˆ¶ä»£ç åˆ°æœåŠ¡å™¨ç­‰æ“ä½œã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo gem install capistrano</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œå…ˆå­˜ç•™å§ï¼Œæš‚æ—¶è¿˜æ²¡ç”¨åˆ°Capistranoã€‚</p>
<p>ç›®å‰æ˜¯æŒ‰ç…§<a href="http://blog.lszero.com/coding4fun/multisite-setting.html" target="_blank" rel="noopener">åˆ©ç”¨Apacheè¿›è¡Œå¤šç«™ç‚¹é…ç½®</a>è®¾ç½®çš„ã€‚</p>
<h1 id="Create-New-Theme-From-Scratch"><a href="#Create-New-Theme-From-Scratch" class="headerlink" title="Create New Theme From Scratch"></a>Create New Theme From Scratch</h1><p>æ—¢ç„¶æ˜¯from scratchï¼Œå°±å…ˆæŠŠjekyllçš„ç›®å½•ç»“æ„ç†æ¸…ï¼Œç„¶åå€ŸåŠ©bootstrapæ¡†æ¶åˆ›å»ºä¸»é¢˜ï¼Œæœ€åå°±æ˜¯å„ç§featuresäº†ã€‚</p>
<h2 id="Basic"><a href="#Basic" class="headerlink" title="Basic"></a>Basic</h2><h3 id="Directory-Structure"><a href="#Directory-Structure" class="headerlink" title="Directory Structure"></a>Directory Structure</h3><p>ç”¨<code>jekyll new-theme xxx</code>å‘½ä»¤ï¼Œå°±å¯ä»¥åˆ›å»ºå‡ºä¸€ä¸ªthemeéœ€è¦çš„åŸºæœ¬ç›®å½•é¡¹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.</span><br><span class="line">â”œâ”€â”€ _config.yml</span><br><span class="line">â”œâ”€â”€ _drafts</span><br><span class="line">|   â”œâ”€â”€ begin-with-the-crazy-ideas.textile</span><br><span class="line">|   â””â”€â”€ on-simplicity-in-technology.markdown</span><br><span class="line">â”œâ”€â”€ _includes</span><br><span class="line">|   â”œâ”€â”€ footer.html</span><br><span class="line">|   â””â”€â”€ header.html</span><br><span class="line">â”œâ”€â”€ _layouts</span><br><span class="line">|   â”œâ”€â”€ default.html</span><br><span class="line">|   â”œâ”€â”€ post.html</span><br><span class="line">â”œâ”€â”€ _posts</span><br><span class="line">|   â”œâ”€â”€ 2007-10-29-why-every-programmer-should-play-nethack.textile</span><br><span class="line">|   â””â”€â”€ 2009-04-26-barcamp-boston-4-roundup.textile</span><br><span class="line">â”œâ”€â”€ _data</span><br><span class="line">|   â””â”€â”€ members.yml</span><br><span class="line">â”œâ”€â”€ _site</span><br><span class="line">â””â”€â”€ index.html</span><br></pre></td></tr></table></figure>
<p>è¯´æ˜ï¼š</p>
<p><code>_config.yml</code> æ˜¯é…ç½®æ–‡ä»¶ã€‚é»˜è®¤é…ç½®å‚è§ï¼š<a href="https://jekyllrb.com/docs/configuration/#default-configuration" target="_blank" rel="noopener">https://jekyllrb.com/docs/configuration/#default-configuration</a></p>
<p><code>_includes</code> é‡Œçš„æ–‡ä»¶ä¸ºäº†å¸ƒå±€é‡ç”¨ã€‚</p>
<p><code>_layouts</code> ç«™ç‚¹å¸ƒå±€æ¨¡æ¿ã€‚å¸ƒå±€å¯ä»¥åœ¨ <a href="http://jekyll.com.cn/docs/frontmatter/" target="_blank" rel="noopener">YAML å¤´ä¿¡æ¯</a>ä¸­æ ¹æ®ä¸åŒæ–‡ç« è¿›è¡Œé€‰æ‹©ã€‚ </p>
<p><code>_posts</code> å°†mdæ–‡ä»¶ä»¥<code>2017-08-01-welcome-to-jekyll.md</code>çš„æ ¼å¼æ”¾åˆ°è¯¥ç›®å½•ä¸­ã€‚</p>
<p><code>_drafts</code> ä¸­çš„mdæ–‡ä»¶ç›´æ¥ä»¥<code>title.md</code>å‘½åï¼Œå¹¶ä¸ä¼šå‘å¸ƒå‡ºæ¥ã€‚å½“è¿è¡Œ<code>jekyll serve</code>æˆ–è€…<code>jekyll build --drafts</code>æ—¶ï¼Œè‰ç¨¿æ–‡ç« ä¼šè¢«åŠ ä¸Šæ—¥æœŸå€¼å¹¶å‘å¸ƒå‡ºæ¥ã€‚</p>
<p><code>_site</code> å­˜æ”¾jekyllè½¬åŒ–å®Œæˆçš„htmlæ–‡ä»¶ã€‚æœ‰æ—¶ä¿®æ”¹æ•ˆæœä¸ç”Ÿæ•ˆï¼Œå¯ä»¥å°è¯•åˆ é™¤è¯¥ç›®å½•ã€‚</p>
<h3 id="Variables"><a href="#Variables" class="headerlink" title="Variables"></a>Variables</h3><p>è‡ªå¸¦çš„å˜é‡è¯¦è§ï¼š<a href="http://jekyllrb.com/docs/variables/" target="_blank" rel="noopener">Variables</a>ã€‚</p>
<p>æˆ–è€…é€šè¿‡<code>_config.yml</code>æ·»åŠ ã€‚</p>
<h3 id="Need-to-Know"><a href="#Need-to-Know" class="headerlink" title="Need to Know"></a>Need to Know</h3><p>è‹¥åœ¨<code>index.html</code>çš„YAMLå¤´ä¿¡æ¯ä¸­åŠ å…¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">layout: default</span><br><span class="line">...</span><br><span class="line">---</span><br></pre></td></tr></table></figure>
<p>åˆ™åœ¨<code>default.html</code>ä¸­è°ƒç”¨`{{ content }}`æ—¶ï¼Œå°±ä¼šæŠŠ<code>index.html</code>ä¸­çš„æ‰€æœ‰å†…å®¹æ”¾åˆ°è°ƒç”¨å¤„ã€‚</p>
<h2 id="Bootstrap"><a href="#Bootstrap" class="headerlink" title="Bootstrap"></a>Bootstrap</h2><p>Bootstrapå‰ç«¯æ¡†æ¶çœŸæ˜¯æˆ‘è¿™ç§å‰ç«¯ç™½ç—´çš„ç¦éŸ³ã€‚</p>
<p>ä¸‹è½½<a href="https://github.com/twbs/bootstrap/releases/download/v3.3.7/bootstrap-3.3.7-dist.zip" target="_blank" rel="noopener">Bootstrp</a>ï¼Œæˆ‘è¿™é‡Œå°†è§£å‹åçš„æ–‡ä»¶æ”¾åˆ°äº†<code>assets/bootstrap-3.3.7-dist</code> ç›®å½•ä¸‹ã€‚</p>
<p>ä½¿ç”¨Bootstrapï¼š</p>
<p>å‚è€ƒBootstrapå®˜ç½‘é‡Œç»™çš„<a href="http://getbootstrap.com/getting-started/#template" target="_blank" rel="noopener">åŸºæœ¬HTMLæ¨¡æ¿</a>ï¼Œ</p>
<p>ï¼ˆ1ï¼‰å°†ä¸‹é¢è¿™è¡Œä»£ç æ”¹æˆè‡ªå·±çš„ç›¸åº”è·¯å¾„åï¼Œæ”¾åˆ°<code>head.html</code> çš„<code>&lt;head&gt;&lt;/head&gt;</code> æ ‡ç­¾ä¸­ã€‚</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Bootstrap --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"/assets/bootstrap-3.3.7-dist/css/bootstrap.min.css"</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ï¼ˆ2ï¼‰å°†ä¸‹ä¸¤è¡Œæ”¹æˆè‡ªå·±çš„ç›¸åº”è·¯å¾„åï¼Œæ”¾åˆ°<code>default.html</code> çš„<code>&lt;body&gt;&lt;/body&gt;</code> æ ‡ç­¾ä¸­çš„æœ€ä¸‹æ–¹ï¼Œä¸ºäº†æœ€ååŠ è½½ã€‚</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- jQuery (necessary for Bootstrap's JavaScript plugins) --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- Include all compiled plugins (below), or include individual files as needed --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/assets/bootstrap-3.3.7-dist/js/bootstrap.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>è‹¥æ²¡æ•ˆæœï¼Œåˆ é™¤ <code>_site</code> ç›®å½•å†è¯•è¯•ï¼Œæˆ–è€…ç”¨å‘½ä»¤é‡æ–° buildã€‚</p>
<h3 id="NavBar"><a href="#NavBar" class="headerlink" title="NavBar"></a>NavBar</h3><p>å‚è€ƒBootstrapå®˜ç½‘ç»™çš„<a href="http://getbootstrap.com/components/#navbar" target="_blank" rel="noopener">ç¤ºä¾‹ä»£ç </a>ï¼Œå†™å…¥<code>header.html</code>æ–‡ä»¶ä¸­ã€‚</p>
<p>ç„¶ååœ¨<code>default.html</code>çš„<code>&lt;body&gt;&lt;/body&gt;</code>æ ‡ç­¾ä¸­å¼•å…¥`{% include header.html %}`ã€‚</p>
<p>æ³¨æ„çš„ç‚¹æ˜¯ï¼Œ</p>
<p>è‹¥ä½¿ç”¨äº†<code>.navbar-fixed-top</code> ç±»ï¼Œè¿™ä¸ªå›ºå®šçš„å¯¼èˆªæ¡ä¼šé®ä½é¡µé¢ä¸Šçš„å…¶å®ƒå†…å®¹ï¼Œé™¤éä½ ç»™ <code>&lt;body&gt;</code> å…ƒç´ åº•éƒ¨è®¾ç½®äº† <code>padding</code>ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">body &#123; padding-top: 70px; &#125;</span><br></pre></td></tr></table></figure>
<h2 id="Features"><a href="#Features" class="headerlink" title="Features"></a>Features</h2><h3 id="Post-Excerpt"><a href="#Post-Excerpt" class="headerlink" title="Post Excerpt"></a>Post Excerpt</h3><p>åœ¨<code>index.html</code> ä¸­æ˜¾ç¤ºæ–‡ç« æ‘˜è¦ã€‚å‚è§<a href="https://jekyllrb.com/docs/posts/#post-excerpts" target="_blank" rel="noopener">https://jekyllrb.com/docs/posts/#post-excerpts</a>ã€‚</p>
<p>ï¼ˆ1ï¼‰è‡ªå¸¦çš„`{{ post.excerpt }}` ä¼šè‡ªåŠ¨å–ç¬¬ä¸€æ®µçš„å†…å®¹ä½œä¸ºæ‘˜è¦ã€‚</p>
<p>è‹¥æƒ³è‡ªå®šä¹‰ï¼Œ</p>
<p>ï¼ˆ2ï¼‰åœ¨<code>_config.yml</code> æ–‡ä»¶ä¸­æŒ‡å®šæ‘˜è¦çš„åˆ†éš”ç¬¦ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">excerpt_separator: &lt;!-- more --&gt;</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·ä¼šè¦†ç›–è‡ªå¸¦çš„`{{ post.excerpt }}`åŠŸèƒ½ï¼Œç„¶ååœ¨æ–‡ç« å†…å®¹éœ€è¦åˆ†éš”çš„æ‘˜è¦åé¢åŠ ä¸Š<code>&lt;!-- more --&gt;</code>ã€‚è€Œ<code>&lt;!-- more --&gt;</code> æœ¬èº«ä½œä¸ºæ³¨é‡Šï¼Œä¸ä¼šå½±å“ markdown çš„æ˜¾ç¤ºã€‚</p>
<p>ï¼ˆ3ï¼‰æˆ–è€…é‡‡ç”¨è¿™æ ·çš„æ–¹å¼ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;% raw %&#125;&#123;&#123; post.content | strip_html | truncatewords:75 &#125;&#125;&#123;% endraw %&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Pagination"><a href="#Pagination" class="headerlink" title="Pagination"></a>Pagination</h3><p>ç”¨äº<code>index.html</code> é‡Œå¯¹æ–‡ç« çš„åˆ†é¡µæ˜¾ç¤ºåŠŸèƒ½ã€‚</p>
<p>ï¼ˆ1ï¼‰é¦–å…ˆå®‰è£…<code>jekyll-paginate</code>ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo gem install jekyll-paginate</span><br></pre></td></tr></table></figure>
<p>åœ¨é…ç½®æ–‡ä»¶<code>_config.yml</code>ä¸­æ·»åŠ ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">plugins:</span><br><span class="line">  - jekyll-paginate</span><br><span class="line">paginate: 5</span><br><span class="line">paginate_path: &quot;/pages:num/&quot;</span><br></pre></td></tr></table></figure>
<p>å…¶ä¸­ï¼Œ<code>paginate: 5</code> è®¾ç½®çš„æ˜¯åˆ†é¡µæ•°ï¼›<br><code>paginate_path: &quot;/pages:num/&quot;</code> è®¾ç½®çš„æ˜¯URLçš„æ˜¾ç¤ºæ ¼å¼ï¼Œå¦‚ <a href="http://localhost:4000/pages2/ã€‚" target="_blank" rel="noopener">http://localhost:4000/pages2/ã€‚</a></p>
<p>ï¼ˆ2ï¼‰ç„¶åå‚è€ƒ<a href="https://jekyllrb.com/docs/pagination/" target="_blank" rel="noopener">https://jekyllrb.com/docs/pagination/</a>åœ¨<code>index.html</code>æ·»åŠ åˆ†é¡µåŠŸèƒ½ï¼Œå¹¶ç»“åˆBootstrapé‡Œçš„åˆ†é¡µæ ·å¼ä¿®æ”¹ï¼š<a href="http://getbootstrap.com/components/#pagination" target="_blank" rel="noopener">http://getbootstrap.com/components/#pagination</a>ã€‚</p>
<h3 id="SideBar"><a href="#SideBar" class="headerlink" title="SideBar"></a>SideBar</h3><p>è¿™é‡Œåˆ©ç”¨äº† bootstrap çš„æ …æ ¼å¸ƒå±€ï¼Œæ …æ ¼å¸ƒå±€å°†ä¸€ä¸ªé¡µé¢åˆ†å‰²æˆ12ä¸ªç­‰å®½çš„åˆ—ã€‚(è¯¦è§ <a href="http://getbootstrap.com/css/#grid-example-basic" target="_blank" rel="noopener">example</a>)</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"row-fluid"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-md-9"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>Content<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-md-3"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>Sidebar<span class="tag">&lt;/<span class="name">h2</span>&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>è®©ä¾§è¾¹æ å›ºå®šä½ï¼Œä¸éšé¡µé¢æ»šåŠ¨è€Œæ»šåŠ¨ï¼šåŠ å…¥<code>class=&quot;affix&quot;</code>ã€‚</p>
<hr>
<p><strong>è¯´æ˜ï¼š</strong></p>
<p>æˆ‘è¿™é‡Œè®¾ç½®ä¸¤ç§sidebarï¼š</p>
<ul>
<li>ä¸€ç§æ˜¯<code>index.html</code>é‡Œçš„ï¼Œç”¨äºæ˜¾ç¤ºauthorä¿¡æ¯ï¼Œå†™åœ¨<code>main_sidebar.html</code>ä¸­ï¼›</li>
<li>å¦ä¸€ç§æ˜¯<code>post</code>å¯¹åº”çš„ï¼Œç”¨äºæ˜¾ç¤ºç›®å½•åˆ—è¡¨ï¼Œå†™åœ¨<code>post_sidebar.html</code>ä¸­ã€‚</li>
</ul>
<hr>
<h3 id="Social-Icons"><a href="#Social-Icons" class="headerlink" title="Social Icons"></a>Social Icons</h3><p>iconsç”¨çš„æ˜¯ <a href="http://fontawesome.io/" target="_blank" rel="noopener">fontawesome</a>ã€‚æˆ‘è¿™é‡Œå°†è§£å‹åçš„ <code>fonts</code>å’Œ<code>css</code>æ–‡ä»¶å¤¹å¤åˆ¶åˆ°äº†<code>assets</code>ç›®å½•ä¸‹ã€‚</p>
<p>åœ¨<code>head.html</code>ä¸­æ·»åŠ ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"/assets/css/font-awesome.min.css"</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>è¦ä½¿ç”¨å“ªä¸ªå›¾æ ‡ï¼Œç›´æ¥å»<a href="http://fontawesome.io/icons/" target="_blank" rel="noopener">å®˜ç½‘</a>æœä»£ç å°±è¡Œã€‚</p>
<p>ä¿®æ”¹å›¾æ ‡é¢œè‰²ï¼Œå› ä¸ºå…¶æœ¬èº«å°±æ˜¯ä¸€ç§å­—ä½“ï¼Œæ•…ä½¿ç”¨<code>color</code>ä¿®æ”¹å³å¯ã€‚</p>
<p>ä¿®æ”¹å›¾æ ‡å¤§å°ä¹Ÿæ˜¯ï¼Œç”¨<code>font-size</code>å³å¯ï¼Œæˆ–è€…ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-camera-retro"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-camera-retro fa-2x"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-camera-retro fa-3x"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>å¯¹å®˜ç½‘æœä¸åˆ°çš„ç¤¾äº¤ç½‘ç«™å›¾æ ‡æ€ä¹ˆåŠï¼Œå¦‚â€œçŸ¥ä¹â€çš„ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&#123;&#123; site.social_media.zhihu_url &#125;&#125;"</span> <span class="attr">class</span>=<span class="string">"btn"</span> <span class="attr">title</span>=<span class="string">"Zhihu"</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"fa-stack fa-lg"</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-circle fa-stack-2x"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-stack-1x fa-inverse"</span>&gt;</span>çŸ¥<span class="tag">&lt;/<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="Table-of-Content"><a href="#Table-of-Content" class="headerlink" title="Table of Content"></a>Table of Content</h3><h4 id="postä¸­æ˜¾ç¤ºç›®å½•"><a href="#postä¸­æ˜¾ç¤ºç›®å½•" class="headerlink" title="postä¸­æ˜¾ç¤ºç›®å½•"></a>postä¸­æ˜¾ç¤ºç›®å½•</h4><p>kramdownè‡ªå¸¦äº†è§£æç›®å½•çš„åŠŸèƒ½ã€‚è¯¦è§ï¼š<a href="https://kramdown.gettalong.org/converter/html.html#toc" target="_blank" rel="noopener">https://kramdown.gettalong.org/converter/html.html#toc</a></p>
<p>åœ¨mdæ–‡ä»¶ä¸­åŠ å…¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># æ— åºåˆ—è¡¨</span><br><span class="line">* TOC</span><br><span class="line">&#123;:toc&#125;</span><br><span class="line">&#123;: .this-is-my-class&#125;</span><br></pre></td></tr></table></figure>
<p>æˆ–è€…ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># æœ‰åºåˆ—è¡¨</span><br><span class="line">1. TOC</span><br><span class="line">&#123;:toc&#125;</span><br><span class="line">&#123;: .this-is-my-class&#125;</span><br></pre></td></tr></table></figure>
<p>å¹¶ä¸”å¯åœ¨<code>_config.yml</code>ä¸­è®¾ç½®è¦æ˜¾ç¤ºçš„æ ‡é¢˜çº§åˆ«ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">kramdown: </span><br><span class="line">  toc_levels: &quot;2,3&quot;</span><br></pre></td></tr></table></figure>
<h4 id="sidebarä¸­æ˜¾ç¤ºç›®å½•"><a href="#sidebarä¸­æ˜¾ç¤ºç›®å½•" class="headerlink" title="sidebarä¸­æ˜¾ç¤ºç›®å½•"></a>sidebarä¸­æ˜¾ç¤ºç›®å½•</h4><p>ä¾§è¾¹æ ç›®å½•éšæµè§ˆå†…å®¹åŠ¨æ€æ»šåŠ¨åŠŸèƒ½ï¼Œåˆ©ç”¨Bootstrapçš„<a href="http://getbootstrap.com/javascript/#scrollspy" target="_blank" rel="noopener">Scrollspy</a>æ¥å®ç°ã€‚</p>
<ul>
<li>å‚è€ƒ <a href="http://www.thomaszhao.cn/2015/01/08/how-do-i-build-this-jekyll-blog/#toctable-of-content-" target="_blank" rel="noopener">application.js</a> è·å–ç›®å½•ç»“æ„ï¼Œå’Œæ ‡é¢˜æ»šåŠ¨æ•ˆæœã€‚</li>
<li>å‚è€ƒ <a href="https://www.mywpku.com/jquery-pin-elements.html" target="_blank" rel="noopener">JQUERYå®ç°ä¾§è¾¹æ éšæ»šåŠ¨æ¡æ»šåŠ¨å¹¶å›ºå®šä½ç½®</a> æ¥å›ºå®šsidebarçš„ä½ç½®ï¼Œå¹¶ä¸”æ•ˆæœæ˜¯ï¼šå½“æ»šåŠ¨åˆ°æŒ‡å®šæ¨¡å—æ—¶æ‰ç½®é¡¶è¯¥æ¨¡å—ã€‚</li>
</ul>
<p>æœ€åå†™äº†ä¸ª <a href="https://github.com/lszero/lszero.github.io/blob/master/assets/js/toc/TOC.js" target="_blank" rel="noopener">TOP.js</a> ç»ˆäºå®ç°å¾—è¿˜ç®—æ»¡æ„äº†ã€‚ï¼ˆå½“ç„¶ï¼Œè¿˜è¦é…åˆ css ä½¿ç”¨ï¼‰</p>
<p>å¦å¤–ï¼Œå…¶å®ƒä¸é”™çš„å®ç°ï¼š</p>
<ul>
<li><a href="https://afeld.github.io/bootstrap-toc/" target="_blank" rel="noopener">bootstrap-toc</a> (<a href="https://github.com/afeld/bootstrap-toc/tree/gh-pages/dist" target="_blank" rel="noopener">github</a>)</li>
<li><a href="http://gregfranko.com/jquery.tocify.js/" target="_blank" rel="noopener">Tocify plugin</a></li>
<li><a href="http://projects.jga.me/toc/" target="_blank" rel="noopener">TOC plugin</a></li>
</ul>
<h4 id="Hide-sidebar-for-mobile-display"><a href="#Hide-sidebar-for-mobile-display" class="headerlink" title="Hide sidebar for mobile display"></a>Hide sidebar for mobile display</h4><p>æ‰‹æœºæ˜¾ç¤ºæ—¶ï¼Œéšè—ä¾§è¾¹æ ï¼Œå¦åˆ™ä¼šæ˜¾ç¤ºæ··ä¹±ã€‚</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">@<span class="keyword">media</span> (max-width: <span class="number">800px</span>) &#123;</span><br><span class="line">    <span class="selector-id">#sidebar</span> &#123;</span><br><span class="line">        <span class="attribute">display</span>:none <span class="meta">!important</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Search"><a href="#Search" class="headerlink" title="Search"></a>Search</h3><p>å‚è€ƒï¼š<a href="http://getbootstrap.com/components/#input-groups-buttons" target="_blank" rel="noopener">Button addons</a> &amp; <a href="http://getbootstrap.com/components/#navbar-forms" target="_blank" rel="noopener">Forms</a></p>
<p>å°†ä¸‹é¢ä»£ç åŠ å…¥<code>header.html</code>ä¸­ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">class</span>=<span class="string">"navbar-form navbar-left"</span> <span class="attr">role</span>=<span class="string">"search"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"input-group"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"input-group-btn"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"btn btn-default"</span> <span class="attr">type</span>=<span class="string">"button"</span>&gt;</span>Go!<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">class</span>=<span class="string">"form-control"</span> <span class="attr">placeholder</span>=<span class="string">"Search"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>å¯¹äºsearché€»è¾‘ï¼Œç›®å‰è¿˜æ²¡æ‰¾åˆ°ä¸€ä¸ªå¾ˆå¥½çš„æ–¹å¼å»å®ç°ã€‚ã€‚ã€‚ï¼ˆå¦‚æœçŸ¥é“çš„ï¼Œéº»çƒ¦å‘Šè¯‰æˆ‘ä¸€å£°ï¼ï¼‰</p>
<h3 id="Back-to-Top"><a href="#Back-to-Top" class="headerlink" title="Back to Top"></a>Back to Top</h3><p>è¯¥åŠŸèƒ½æˆ‘æ”¾åœ¨äº†<code>post_sidebar.html</code>ä¸­ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#top"</span> <span class="attr">class</span>=<span class="string">"back-to-top"</span>&gt;</span>^<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>å…¶å®å°±æ˜¯ä¸ªlinkï¼Œæœ€åå†ç”¨cssè®¾ç½®æ ·å¼ã€‚</p>
<hr>
<p>æ›´æ–°ï¼š</p>
<p>ä¸ºäº†ä¸è®©footerè¦†ç›–æ‰ back-to-topï¼Œåªèƒ½æŠŠback-to-topå†™åœ¨footeråé¢ã€‚æ•…æ”¹åœ¨äº†<code>default.html</code>é‡Œã€‚</p>
<h3 id="Comments"><a href="#Comments" class="headerlink" title="Comments"></a>Comments</h3><h4 id="Gitment"><a href="#Gitment" class="headerlink" title="Gitment"></a>Gitment</h4><p><a href="https://imsun.net/posts/gitment-introduction/" target="_blank" rel="noopener">Gitment</a> æŒºä¸é”™çš„çš„ã€‚æŒ‰ç…§å®˜ç½‘çš„è¯´æ˜å¼•å…¥jsåï¼Œåœ¨å…¶ä¸­ä¿®æ”¹è‡ªå·±çš„OAuth Applicationä¿¡æ¯ã€‚</p>
<h4 id="isso"><a href="#isso" class="headerlink" title="isso"></a>isso</h4><p>è¿™æ˜¯è‡ªå»ºè¯„è®ºç³»ç»Ÿçš„ä¸€ç§æ–¹å¼ã€‚<a href="https://posativ.org/isso/" target="_blank" rel="noopener">å®˜ç½‘</a>éœ€è¦fq.</p>
<p>æˆ‘ä¹‹åç”¨çš„ä¹Ÿæ˜¯è¿™ç§æ–¹æ³•ï¼Œè¯¦è§ï¼š<a href="http://blog.lszero.com/coding4fun/comments-with-isso.html" target="_blank" rel="noopener">æ­å»ºIssoè¯„è®ºæœåŠ¡</a></p>
<h3 id="Archives"><a href="#Archives" class="headerlink" title="Archives"></a>Archives</h3>`{% for post in paginator.posts %}` å¹¶ä¸èƒ½ä½¿ç”¨ï¼Œå› ä¸ºpaginatoråªä¼šå¯¹<code>index.html</code>æœ‰æ•ˆã€‚<br><br><code>site.posts | size</code> è·å–æ€»çš„æ–‡ç« æ•°ã€‚<br><br>å› ä¸ºjekyllä¸æ”¯æŒæŒ‰æ—¥æœŸè·å–ï¼Œåªèƒ½æš‚æ—¶ç”¨`{% for post in site.posts %}`ã€‚<br><br>è¿™éƒ¨åˆ†å¾…è¡¥å……å§ã€‚<br><br>### Category<br><br>å‚è€ƒ <a href="https://segmentfault.com/a/1190000000406017#articleHeader2" target="_blank" rel="noopener">ä½¿ç”¨Categoryåˆ†ç±»</a>ã€‚<br><br>é¦–å…ˆåœ¨æ¯ä¸ªæ–‡ç« çš„YAMLå¤´ä¿¡æ¯ä¸­å®šä¹‰ç±»åˆ«ï¼Œå¦‚ï¼š<br><br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">layout: post</span><br><span class="line">title:  &quot;your title&quot;</span><br><span class="line">categories: Algorithm</span><br><span class="line">---</span><br></pre></td></tr></table></figure>
<p><strong>è·å–æ‰€æœ‰ç±»åˆ«ï¼š</strong></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&#123;% raw %&#125;&#123;% for category in site.categories %&#125;</span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; category[0] &#125;&#125; (&#123;&#123; category[1].size &#125;&#125;)<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">  &#123;% for post in category[1] %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>&#123;&#123; post.date | date:"%d/%m/%Y"&#125;&#125;<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&#123;&#123; post.url &#125;&#125;"</span>&gt;</span>&#123;&#123; post.title &#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  &#123;% endfor %&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">&#123;% endfor %&#125;&#123;% endraw %&#125;</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨ï¼š</p>
<ul>
<li><code>site.categories.size</code> è·å–æ€»çš„ç±»åˆ«æ•°ã€‚</li>
<li><code>category[0]</code> è·å–åˆ†ç±»åç§°ã€‚</li>
<li><code>category[1].size</code> è·å–è¯¥åˆ†ç±»ä¸‹æ–‡ç« çš„æ•°ç›®ã€‚</li>
<li><code>site.categories.CATEGORY</code> å¯å¾—åˆ°æŸä¸ªç‰¹å®šç±»åˆ«çš„æ‰€æœ‰æ–‡ç« ã€‚</li>
</ul>
<p>æ›´å¤šå˜é‡å¯å‚è§ï¼š<a href="http://jekyllrb.com/docs/variables/#site-variables" target="_blank" rel="noopener">http://jekyllrb.com/docs/variables/#site-variables</a>.</p>
<p>è¾“å‡ºå•ä¸ªåˆ†ç±»ä¸‹çš„æ‰€æœ‰æ–‡ç« ï¼š</p>
<p><code>site.categories.CATEGORY</code> éœ€è¦æ‰‹åŠ¨æŒ‡å®šï¼Œå¹¶ä¸æ˜¯å¾ˆæ–¹ä¾¿ã€‚</p>
<p><a href="https://segmentfault.com/a/1190000000406017#articleHeader2" target="_blank" rel="noopener">ä½¿ç”¨Categoryåˆ†ç±»</a>è¿™ç¯‡æ–‡ç« é‡Œä½¿ç”¨jsæ¥å®ç°ã€‚</p>
<p>æˆ‘è¿™é‡Œæ˜¯å…ˆç”Ÿæˆå¥½<code>categories.html</code>ï¼Œé‡Œé¢åˆ—å‡ºäº†æ‰€æœ‰çš„æ–‡ç« ã€‚ç„¶ååˆ©ç”¨é”šç‚¹<code>categories.html#xxx</code>è¿›è¡Œè·³è½¬åˆ°æŒ‡å®šçš„ç±»åˆ«ã€‚</p>
<h3 id="Tags"><a href="#Tags" class="headerlink" title="Tags"></a>Tags</h3><p>å‚è€ƒ<a href="https://segmentfault.com/a/1190000000406017#articleHeader5" target="_blank" rel="noopener">ä½¿ç”¨æ–‡ç« æ ‡ç­¾ç´¢å¼•æ–‡ç« </a>ã€‚</p>
<p>é¦–å…ˆåœ¨æ¯ä¸ªæ–‡ç« çš„YAMLå¤´ä¿¡æ¯ä¸­å®šä¹‰tagsï¼Œå¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">layout: post</span><br><span class="line">title:  &quot;your title&quot;</span><br><span class="line">tags: [github, jekyll]</span><br><span class="line">---</span><br></pre></td></tr></table></figure>
<p>å’Œ<a href="#category">category</a>çš„è®¾ç½®æ–¹æ³•å·®ä¸å¤šï¼Œå°±ä¸èµ˜è¿°äº†ã€‚</p>
<h3 id="Latex"><a href="#Latex" class="headerlink" title="Latex"></a>Latex</h3><p>å‚è€ƒï¼š<a href="https://jekyllrb.com/docs/extras/#math-support" target="_blank" rel="noopener">https://jekyllrb.com/docs/extras/#math-support</a></p>
<p>æˆ‘è¿™é‡Œä¸ºäº†é¿å…æ‰€æœ‰pageséƒ½å¼•å…¥mathjaxç›¸å…³jsä»£ç ï¼Œé‡‡ç”¨äº†ä¸åŒçš„è®¾ç½®ï¼š</p>
<p>åœ¨é…ç½®æ–‡ä»¶<code>_config.yml</code>ä¸­æ·»åŠ ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mathjax: false</span><br></pre></td></tr></table></figure>
<p>åœ¨<code>head.html</code>ä¸­æ·»åŠ ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&#123;% raw %&#125;&#123;% if page.mathjax %&#125;</span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">&#123;% endif %&#125;&#123;% endraw %&#125;</span><br></pre></td></tr></table></figure>
<p>ç„¶ååœ¨éœ€è¦å¼•å…¥mathjaxçš„mdæ–‡ä»¶å¤´ä¸­åŠ å…¥<code>mathjax: true</code>ï¼Œå¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">layout: post</span><br><span class="line">...</span><br><span class="line">mathjax: true</span><br><span class="line">---</span><br></pre></td></tr></table></figure>
<h4 id="Support"><a href="#Support" class="headerlink" title="Support $"></a>Support $</h4><p>é»˜è®¤åªæ”¯æŒåŒ<code>$</code>ç¬¦ï¼Œä¿®æ”¹ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/x-mathjax-config"</span>&gt;</span><br><span class="line">  MathJax.Hub.Config(&#123;</span><br><span class="line">    TeX: &#123;</span><br><span class="line">      equationNumbers: &#123;</span><br><span class="line">        autoNumber: <span class="string">"AMS"</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    tex2jax: &#123;</span><br><span class="line">      inlineMath: [ [<span class="string">'$'</span>,<span class="string">'$'</span>] ],</span><br><span class="line">      displayMath: [ [<span class="string">'$$'</span>,<span class="string">'$$'</span>] ],</span><br><span class="line">      processEscapes: <span class="literal">true</span>,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="Mathjax-Rendering-Problem"><a href="#Mathjax-Rendering-Problem" class="headerlink" title="Mathjax Rendering Problem"></a>Mathjax Rendering Problem</h4><p>è‹¥latexå…¬å¼ä¸­åŒ…å«<code>|</code>ç¬¦ï¼Œå¦‚<code>|a|</code>ï¼Œä¼šè¢«markdownè§£æå™¨å½“æˆ<code>&lt;table&gt;&lt;/table&gt;</code>æ¥å¤„ç†ã€‚</p>
<p>åˆå¦‚ï¼Œå®šä¹‰çŸ©é˜µæ—¶ï¼Œå…¶ä¸­çš„æ¢è¡Œ<code>\\</code>ä¹Ÿä¼šè¢«è§£æå‡ºé—®é¢˜ï¼ŒæŠŠç¬¬ä¸€ä¸ª<code>\</code>å½“æˆäº†è½¬ä¹‰ç¬¦ã€‚</p>
<p>è§£å†³æ–¹å¼ï¼š</p>
<p>å¯¹ç¬¬ä¸€ç§æƒ…å†µï¼Œæ ¹æ® <a href="https://kramdown.gettalong.org/syntax.html#math-blocks" target="_blank" rel="noopener">Syntax | Kramdown</a> ä¸Šçš„è¯´æ˜ï¼Œå°†<code>|</code>ç”¨<code>\vert</code>æ¥ä»£æ›¿ã€‚</p>
<p>å¯¹ç¬¬äºŒç§æƒ…å†µï¼Œç”¨åŒ<code>$$</code>ç¬¦è§£å†³è½¬ä¹‰é—®é¢˜ã€‚</p>
<h3 id="Code-Highlighting"><a href="#Code-Highlighting" class="headerlink" title="Code Highlighting"></a>Code Highlighting</h3><p>Jekyll 3.x è‡ªå¸¦äº†rougeä»£ç é«˜äº®çš„åŠŸèƒ½ï¼Œä½†æ˜¯ä¸é€ ä¸ºå•¥ä¸€ç›´not workingï¼ˆéš¾é“åˆè¢«çœ‹è„¸äº†ã€‚ã€‚</p>
<p>äºæ˜¯è¿™é‡Œç”¨çš„æ˜¯<a href="https://highlightjs.org/" target="_blank" rel="noopener">highlightjs</a>ã€‚åœ¨<code>head.html</code>é‡Œæ·»åŠ ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"/lib/highlight/styles/hybrid.css"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/lib/highlight/highlight.pack.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined">hljs.initHighlightingOnLoad();</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>æˆ‘è¿™é‡ŒæŠŠä¸‹è½½çš„<code>highlightjs</code>çš„ç›¸å…³æ–‡ä»¶æ”¾åœ¨äº†<code>lib</code>ç›®å½•ä¸‹ï¼Œæ ·å¼é€‰çš„æ˜¯<code>hybrid.css</code>ã€‚ï¼ˆmonokai-sublime å’Œ hybrid é…è‰²ä¹Ÿä¸é”™ã€‚ï¼‰</p>
<p><code>highlightjs</code>ä¼šè§£æå¹¶é«˜äº®<code>&lt;pre&gt;&lt;code&gt;...&lt;/code&gt;&lt;/pre&gt;</code>ä¸­çš„å†…å®¹ã€‚å¦‚</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">pre</span>&gt;</span><span class="tag">&lt;<span class="name">code</span> <span class="attr">class</span>=<span class="string">"html"</span>&gt;</span>...<span class="tag">&lt;/<span class="name">code</span>&gt;</span><span class="tag">&lt;/<span class="name">pre</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>è‹¥ä¸éœ€è¦é«˜äº®åˆ™è®¾ä¸ºï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">pre</span>&gt;</span><span class="tag">&lt;<span class="name">code</span> <span class="attr">class</span>=<span class="string">"nohighlight"</span>&gt;</span>...<span class="tag">&lt;/<span class="name">code</span>&gt;</span><span class="tag">&lt;/<span class="name">pre</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œæœ‰ä¸ªéº»çƒ¦çš„åœ°æ–¹ï¼Œè‹¥mdé‡Œæ²¡æœ‰æŒ‡æ˜è¯­è¨€ï¼Œ<code>highlightjs</code>ä¹Ÿä¼šè‡ªåŠ¨æ£€æµ‹æ˜¯ä»€ä¹ˆè¯­è¨€ã€‚å¦‚æœä¸æƒ³å¯¹æŸä¸ªcode blockè¿›è¡Œé«˜äº®ï¼Œæœ‰ä¸¤ç§è§£å†³æ–¹å¼ï¼šï¼ˆå½“ç„¶äº†ï¼Œæˆ‘æ¯”è¾ƒæŠ˜è…¾ï¼Œä¸€èˆ¬äººä¹Ÿä¸éœ€è¦è¿™ä¸ªã€‚ã€‚ï¼ˆæ‚è„¸ï¼‰</p>
<p>ï¼ˆ1ï¼‰æ¯æ¬¡æ‰‹åŠ¨åŠ å…¥<code>nohighlight</code>ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">â€‹```nohighlight</span><br><span class="line">xxx</span><br><span class="line">â€‹</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">ï¼ˆ2ï¼‰ä¿®æ”¹markdownè§£æå™¨ã€‚</span><br><span class="line"></span><br><span class="line">ç¬¬ä¸€ç§æ–¹å¼æ¯”è¾ƒéº»çƒ¦ï¼Œä½†`highlightjs`åˆæ²¡æœ‰æä¾›å…³é—­`highlightAuto`çš„æ¥å£ã€‚</span><br><span class="line"></span><br><span class="line">### Custom Markdown Parser</span><br><span class="line"></span><br><span class="line">åœ¨`_config.yml`ä¸­å¯ä»¥çœ‹åˆ°ï¼Œé»˜è®¤ä½¿ç”¨çš„æ˜¯`kramdown`è§£æå™¨ã€‚</span><br></pre></td></tr></table></figure>
<p>markdown: kramdown<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">å…³äº[Custom Markdown Processors](https://jekyllrb.com/docs/configuration/#custom-markdown-processors)å®˜ç½‘æœ‰ä¸€äº›è¯´æ˜ï¼Œå¥½å§ï¼Œæ²¡çœ‹æ‡‚ï¼Œæ¯•ç«Ÿä¸ä¼šRubyã€‚kramdownä¹Ÿä¸èƒ½ä»¥overwritedçš„æ–¹å¼æ”¹å†™ç›¸åº”çš„convertæ–¹æ³•ï¼Œç„¶ååˆå†™äº†æ®µjsä»£ç è¯•å›¾ä¿®æ”¹kramdownè§£æå‡ºçš„htmlï¼Œä½†è¿˜æ˜¯æ²¡æˆåŠŸã€‚çœŸæ˜¯è‰°è¾›ï¼Œç½‘ä¸Šæ‰¾äº†å¥½ä¹…éƒ½æ— æœï¼Œæœ€åè¿˜ä¸å¦‚ç›´æ¥çœ‹ä»£ç æ”¹æ¥å¾—å¿«ã€‚ã€‚ã€‚</span><br><span class="line"></span><br><span class="line">å¥½åœ¨`highlightjs`æä¾›äº†è¿™ä¸ªï¼š</span><br><span class="line"></span><br><span class="line">```js</span><br><span class="line">// ignore languages</span><br><span class="line">&lt;script&gt;hljs.configure(&#123; ignore: [&apos;text&apos;] &#125;);&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<p>ç„¶åçœ‹Jekyllæºç ï¼Œæ‰¾åˆ°äº† <code>jekyll/lib/jekyll/converters/markdown/kramdown_parser.rb</code> (see <a href="https://github.com/jekyll/jekyll/blob/57fd5f887da1189a16bdfbb982d75f725c38d725/lib/jekyll/converters/markdown/kramdown_parser.rb" target="_blank" rel="noopener">code</a>) </p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">convert</span><span class="params">(content)</span></span></span><br><span class="line">  Kramdown::Document.new(content, @config).to_html</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>æ¥ç€çœ‹kramdownæºç ï¼Œæ‰¾åˆ°äº†<code>kramdown/lib/kramdown/converter/html.rb</code> (see <a href="https://github.com/gettalong/kramdown/blob/f4cdae257159ce0addf542739fed262e4a2cf401/lib/kramdown/converter/html.rb" target="_blank" rel="noopener">code</a>) </p>
<p>åœ¨æˆ‘çš„æœ¬åœ°ç”µè„‘ä¸­ï¼Œç›¸å…³æ–‡ä»¶ä½äº<code>/usr/local/lib/ruby/gems/2.4.0/gems/kramdown-1.14.0/lib/kramdown/converter/html.rb</code>ã€‚</p>
<p>æ‰¾åˆ°<code>def convert_codeblock(el, indent)</code>å‡½æ•°è¿›è¡Œä¿®æ”¹ï¼š</p>
<p>åœ¨ä»£ç <code>code_attr[&#39;class&#39;] = &quot;language-#{lang}&quot; if lang</code> å‰æ·»åŠ ï¼š</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> lang.<span class="literal">nil</span>?</span><br><span class="line">  lang = <span class="string">"text"</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>å¹¶å°†ä»£ç <code>if highlighted_code</code> æ”¹ä¸º <code>if highlighted_code &amp;&amp; lang</code>ã€‚</p>
<p>ï¼ˆå…¶ä¸­ï¼Œ<code>nil</code>æ˜¯åˆ¤ç©ºçš„æ„æ€ã€‚ï¼‰</p>
<p>è¿™æ ·åœ¨ä¸æŒ‡æ˜è¯­è¨€çš„æ—¶å€™ï¼Œä¸é«˜äº®æ˜¾ç¤ºã€‚</p>
<hr>
<p>ä¸Šé¢æ˜¯macç¯å¢ƒä¸‹ï¼Œå¯ä»¥ç›´æ¥æ”¹ä»£ç ã€‚ä½†æ˜¯åœ¨linuxç¯å¢ƒä¸‹ï¼Œåªæœ‰ä¸€ä¸ªäºŒè¿›åˆ¶æ‰§è¡Œæ–‡ä»¶ã€‚</p>
<p>äºæ˜¯ï¼Œå…ˆåˆ é™¤åŸæœ‰çš„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo gem uninstall kramdown</span><br></pre></td></tr></table></figure>
<p>ç„¶ååœ¨å®˜ç½‘<a href="https://github.com/gettalong/kramdown/releases" target="_blank" rel="noopener">ä¸‹è½½æºç </a>é‡æ–°å®‰è£…ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ ruby setup.rb config</span><br><span class="line">$ ruby setup.rb setup</span><br><span class="line">$ ruby setup.rb install</span><br></pre></td></tr></table></figure>
<p>å¥½å§ï¼Œæš‚æ—¶æ²¡å¼„å¥½ã€‚ã€‚ã€‚</p>
<h2 id="Else"><a href="#Else" class="headerlink" title="Else"></a>Else</h2><h3 id="Permalinks"><a href="#Permalinks" class="headerlink" title="Permalinks"></a>Permalinks</h3><p>åœ¨<code>_config.yml</code>ä¸­è®¾ç½®ï¼Œå¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">permalink: /:categories/:year/:month/:day/:title.html</span><br></pre></td></tr></table></figure>
<h3 id="footer"><a href="#footer" class="headerlink" title="footer"></a>footer</h3><p>å½“é¡µé¢å†…å®¹é•¿åº¦ä¸å¤Ÿæ—¶ï¼Œfooteræ˜¾ç¤ºä½ç½®å¯èƒ½æœ‰é—®é¢˜ã€‚</p>
<p>è®©footerå†…å®¹æ°¸è¿œå¤„äºæœ€æœ«ç«¯ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">$height-footer: 40px;</span><br><span class="line"></span><br><span class="line">html &#123;</span><br><span class="line">    height: 100%;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">body &#123;</span><br><span class="line">    min-height: 100%;</span><br><span class="line">    position: relative;</span><br><span class="line">    padding-bottom: $height-footer;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.footer &#123;</span><br><span class="line">    bottom: 0;</span><br><span class="line">    width: 100%;</span><br><span class="line">    position: absolute;</span><br><span class="line">    height: $height-footer;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å­å…ƒç´ çš„ç™¾åˆ†æ¯”é«˜åº¦ä¹Ÿå¯ä»¥åŸºäºçˆ¶å…ƒç´ çš„ç™¾åˆ†æ¯”é«˜åº¦ï¼Œå‰ææ˜¯çˆ¶å…ƒç´ çš„çˆ¶å…ƒç´ å¿…é¡»æœ‰ä¸€ä¸ªæ˜ç¡®çš„é«˜åº¦ã€‚è¦ä½¿<code>min-height</code>çš„ç™¾åˆ†æ¯”å€¼ç”Ÿæ•ˆï¼Œå…¶çˆ¶å…ƒç´ çš„<code>height</code>å€¼å¿…é¡»ä¸ºä¸€ä¸ªå›ºå®šçš„é«˜åº¦æˆ–è€…æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ç™¾åˆ†æ¯”é«˜åº¦ã€‚</p>
<h2 id="Problems"><a href="#Problems" class="headerlink" title="Problems"></a>Problems</h2>`{{ xxx }}` æˆ–è€… `{% xxx %}` æ˜¾ç¤ºä¸å‡ºæ¥ã€‚<br><br>è§£å†³æ–¹å¼ï¼š<br><br>ï¼ˆ1ï¼‰<br><br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">\&#123;\&#123; xxx \&#125;\&#125;</span><br></pre></td></tr></table></figure>
<p>ï¼ˆ2ï¼‰å‚è€ƒï¼š<a href="https://stackoverflow.com/questions/24102498/escaping-double-curly-braces-inside-a-markdown-code-block-in-jekyll" target="_blank" rel="noopener">Escaping double curly braces inside a markdown code block in Jekyll</a></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;% assign openTag = &apos;&#123;%&apos; %&#125;&#123;&#123; openTag &#125;&#125; raw %&#125;    </span><br><span class="line">This is a test: &#123;% raw %&#125;&#123;&#123; xxx &#125;&#125;&#123;% endraw %&#125;</span><br><span class="line">&#123;&#123; openTag &#125;&#125; endraw %&#125;</span><br></pre></td></tr></table></figure>
<p>ï¼ˆ3ï¼‰é‚£ä¹ˆé—®é¢˜åˆæ¥äº†ï¼Œå¦‚ä½•æ˜¾ç¤ºä¸Šé¢çš„ raw å’Œ endraw å‘¢ï¼Ÿå‚è€ƒï¼š<a href="http://www.cnblogs.com/OceanHeaven/p/6959669.html" target="_blank" rel="noopener">jekyll å¦‚ä½•è½¬ä¹‰å­—ç¬¦</a></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen [::]:80;</span><br><span class="line">    server_name comments.lszero.com;</span><br><span class="line">    </span><br><span class="line">    location /isso &#123;</span><br><span class="line">        proxy_pass http://localhost:8090;</span><br><span class="line">        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class="line">        proxy_set_header Host $host;</span><br><span class="line">        proxy_set_header X-Forwarded-Proto $scheme;</span><br><span class="line">        proxy_set_header X-Script-Name /isso;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

        </section>
    </article>
    
        <!-- disqus è¯„è®ºæ¡† start -->
        <div class="comment">
            <div id="disqus_thread" class="disqus-thread">
              <i>åŠ è½½è¯„è®ºæ¡†éœ€è¦ç¿»å¢™</i>
            </div>
        </div>
        <!-- disqus è¯„è®ºæ¡† end -->
    
    
        <!-- livere è¯„è®ºæ¡† start -->
        <div class="comment">
            <div id="lv-container" data-id="city" data-uid="your_livere_uid"></div>
        </div>
        <!-- livere è¯„è®ºæ¡† end -->
        
  </div>
  <aside>
    
    <div class="toc-container">
        <h1>ç›®å½•</h1>
        <div class="content">
            <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Hexo"><span class="toc-number">1.</span> <span class="toc-text">Hexo</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Jekyll"><span class="toc-number">2.</span> <span class="toc-text">Jekyll</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Get-Started"><span class="toc-number">3.</span> <span class="toc-text">Get Started</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Installation"><span class="toc-number">3.1.</span> <span class="toc-text">Installation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Basic-Command"><span class="toc-number">3.2.</span> <span class="toc-text">Basic Command</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Set-up-Your-Site-on-VPS"><span class="toc-number"></span> <span class="toc-text">Set up Your Site on VPS</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Nginx"><span class="toc-number">1.</span> <span class="toc-text">Nginx</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Capistrano"><span class="toc-number">2.</span> <span class="toc-text">Capistrano</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Create-New-Theme-From-Scratch"><span class="toc-number"></span> <span class="toc-text">Create New Theme From Scratch</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Basic"><span class="toc-number">1.</span> <span class="toc-text">Basic</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Directory-Structure"><span class="toc-number">1.1.</span> <span class="toc-text">Directory Structure</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Variables"><span class="toc-number">1.2.</span> <span class="toc-text">Variables</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Need-to-Know"><span class="toc-number">1.3.</span> <span class="toc-text">Need to Know</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Bootstrap"><span class="toc-number">2.</span> <span class="toc-text">Bootstrap</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#NavBar"><span class="toc-number">2.1.</span> <span class="toc-text">NavBar</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Features"><span class="toc-number">3.</span> <span class="toc-text">Features</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Post-Excerpt"><span class="toc-number">3.1.</span> <span class="toc-text">Post Excerpt</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Pagination"><span class="toc-number">3.2.</span> <span class="toc-text">Pagination</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SideBar"><span class="toc-number">3.3.</span> <span class="toc-text">SideBar</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Social-Icons"><span class="toc-number">3.4.</span> <span class="toc-text">Social Icons</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Table-of-Content"><span class="toc-number">3.5.</span> <span class="toc-text">Table of Content</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#postä¸­æ˜¾ç¤ºç›®å½•"><span class="toc-number">3.5.1.</span> <span class="toc-text">postä¸­æ˜¾ç¤ºç›®å½•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sidebarä¸­æ˜¾ç¤ºç›®å½•"><span class="toc-number">3.5.2.</span> <span class="toc-text">sidebarä¸­æ˜¾ç¤ºç›®å½•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Hide-sidebar-for-mobile-display"><span class="toc-number">3.5.3.</span> <span class="toc-text">Hide sidebar for mobile display</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Search"><span class="toc-number">3.6.</span> <span class="toc-text">Search</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Back-to-Top"><span class="toc-number">3.7.</span> <span class="toc-text">Back to Top</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Comments"><span class="toc-number">3.8.</span> <span class="toc-text">Comments</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Gitment"><span class="toc-number">3.8.1.</span> <span class="toc-text">Gitment</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#isso"><span class="toc-number">3.8.2.</span> <span class="toc-text">isso</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Archives"><span class="toc-number">3.9.</span> <span class="toc-text">Archives</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Tags"><span class="toc-number">3.10.</span> <span class="toc-text">Tags</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Latex"><span class="toc-number">3.11.</span> <span class="toc-text">Latex</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Support"><span class="toc-number">3.11.1.</span> <span class="toc-text">Support $</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Mathjax-Rendering-Problem"><span class="toc-number">3.11.2.</span> <span class="toc-text">Mathjax Rendering Problem</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Code-Highlighting"><span class="toc-number">3.12.</span> <span class="toc-text">Code Highlighting</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Else"><span class="toc-number">4.</span> <span class="toc-text">Else</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Permalinks"><span class="toc-number">4.1.</span> <span class="toc-text">Permalinks</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#footer"><span class="toc-number">4.2.</span> <span class="toc-text">footer</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Problems"><span class="toc-number">5.</span> <span class="toc-text">Problems</span></a></li></ol>
        </div>
    </div>
    
  </aside>
</main>

<!-- disqus å…¬å…±JSä»£ç  -->
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES * * */
  var disqus_shortname = "your_disqus_shortname";
  var disqus_identifier = "http://yoursite.com/2017/08/01/static-website-with-jekyll/";
  var disqus_url = "http://yoursite.com/2017/08/01/static-website-with-jekyll/";

  isAgent(getDisqus)

  // determine user agent in China
  function isAgent(cb) {
    var url = '//graph.facebook.com/feed?callback=h';
    var xhr = new XMLHttpRequest();
    var called = false;
    xhr.open('GET', url);
    xhr.onreadystatechange = function() {
      if (xhr.readyState === 4 && xhr.status === 200) {
      called = true;
      cb(true);
      }
    };
    xhr.send();
    // timeout 1s, this facebook API is very fast.
    setTimeout(function() {
      if (!called) {
      xhr.abort();
      cb(false)
      }
    }, 1000);
  }

  function getDisqus(isAgent) {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; 
    dsq.async = true
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq)
  }
</script>
<!-- disqus å…¬å…±JSä»£ç  end -->


<script type="text/javascript">
  (function(d, s) {
      var j, e = d.getElementsByTagName(s)[0];

      if (typeof LivereTower === 'function') { return; }

      j = d.createElement(s);
      j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
      j.async = true;

      e.parentNode.insertBefore(j, e);
  })(document, 'script');
</script>


  <footer>
  <div class="copyright">
    <div>
      &copy; 2018 | Powered by <a href="https://hexo.io" target="_blank">Hexo</a>&nbsp
    </div>
    <div>
      Theme by <a href="https://github.com/lewis-geek/hexo-theme-Aath" target="_blank">Aath</a>
    </div>
  </div>
</footer>


<script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
<script src="/lib/in-view.min.js"></script>
<script src="/lib/lodash.min.js"></script>
<script>
  var isDown = true
  var oldY = 0
  inView.offset(50)

  document.body.addEventListener('touchstart', function(){});
  
  window.addEventListener('scroll', _.throttle(e => {
    var currentY = window.scrollY
    if((oldY - currentY) < 0) {
      isDown = true
    } else {
      isDown = false
    }
    oldY = currentY
  }, 250))

  $("article img").each(function() {
      var strA = "<a data-fancybox='gallery' href='" + this.src + "'></a>";
      $(this).wrapAll(strA);
  });

  $('.toc-link').each(function() {
      var href = $(this).attr("href");
      
      inView(href).on('exit', () => {
        if (isDown) {
          handleActive(href)
        }
      })

      inView(href).on('enter', () => {
        if (!isDown) {
          handleActive(href)
        }
      })

      this.onclick = function(e) {
        var pos = $(href).offset().top - 10;
        $("html,body").animate({scrollTop: pos}, 300);
        setTimeout(() => {
          handleActive(href)
        }, 350)
        return false
      }
  })

  function handleActive(href) {
    document.querySelectorAll('.toc-link').forEach(elm => {
      elm.classList.remove('active')
    })
    document.querySelector(".toc [href='"+ href +"']").classList.add('active')
  }
</script>
<script src="/lib/jquery.fancybox.min.js"></script>


</body>
</html>
